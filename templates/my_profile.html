{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}Mon Profil{% endblock %}</h1>
{% endblock %}
{% block content %}


<body>
    <div id="profile" class="container">
        <div class="form-group">
            <label for="lastName">Nom </label>
            <input type="text" class="form-control form-control-lg" placeholder="{{name}}" readonly>
        </div>

        <div class="form-group">
            <label for="firstName">Prénom</label>
            <input type="email" class="form-control form-control-lg" id="email" placeholder="{{ firstName }}" readonly>
        </div>

        <div class="form-group">
            <label for="email">Adresse mail</label>
            <input type="email" class="form-control form-control-lg" id="email" placeholder="{{ mail }}" readonly>
        </div>


        <hr class="container horiz-bar"/>


        <form method="post" action="{{ url_for("my_profile") }}">
            <div class="form-group">
                <label for="newApi">Clé d’API Gitlab</label>
                <input type="password" class="form-control form-control-lg" id="newApi" name="newApi" placeholder="Entrez votre nouvelle clé d'API" required>
            </div>

            <div class="form-group text-center">
                <button type="submit" class="btn btn-lg btn-primary">Changer la clé d'API</button>
            </div>

            <input type="hidden" name="action" value="login">
        </form>


        <hr class="container horiz-bar"/>


        <form method="post" action="{{ url_for("my_profile") }}">
            <div class="form-group">
                <label for="passwordAct">Mot de passe</label>
                <input type="password" class="form-control form-control-lg" id="passwordAct" name="passwordAct" placeholder="Entrez votre mot de passe actuel" required>
            </div>

            <div class="form-group">
                <label for="newPassword">Nouveau mot de passe</label>
                <input type="password" class="form-control form-control-lg" id="newPassword" name="newPassword" placeholder="Entrez votre nouveau mot de passe" required>
            </div>

            <div class="form-group">
                <label for="newPassword2">Vérification du nouveau mot de passe</label>
                <input type="password" class="form-control form-control-lg" id="newPassword2" name="newPassword2" placeholder="Entrez à nouveau votre nouveau mot de passe" required>
            </div>

            <div class="form-group text-center">
                <button type="submit" class="btn btn-lg btn-primary">Changer le mot de passe</button>
            </div>

            <input type="hidden" name="action" value="changePassword">
        </form>


        <hr class="container horiz-bar"/>


        <form method="post" class="form-group text-center" action="{{ url_for("my_profile") }}">
            <button type="submit" class="btn btn-sm btn-danger">Supprimer le compte</button>
        </form>

    </div>
</body>
{% endblock %}
